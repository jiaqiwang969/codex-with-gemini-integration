# Hunyuan AI3D 输出文件命名规范

## 📁 默认输出目录

所有生成的3D文件默认保存在 `/tmp/hunyuan-3d/` 目录下。

## 🏷️ 目录命名格式

每次生成任务会创建一个独立的子目录，命名格式如下：

```
/tmp/hunyuan-3d/{时间戳}_{JobID前8位}_{描述}
```

### 命名示例

1. **文生3D示例**
   - 输入: "一个可爱的机器人"
   - 输出目录: `/tmp/hunyuan-3d/20241108_143025_a1b2c3d4_一个可爱的机器人/`

2. **图生3D示例**（无文字描述）
   - 输出目录: `/tmp/hunyuan-3d/20241108_143025_a1b2c3d4/`

3. **下载任务示例**
   - 输出目录: `/tmp/hunyuan-3d/20241108_143025_a1b2c3d4_download/`

## 📝 命名规则详解

### 时间戳格式
- 格式: `YYYYMMDD_HHMMSS`
- 示例: `20241108_143025`（2024年11月8日 14:30:25）
- 作用: 确保目录按时间顺序排列

### JobID标识
- 格式: JobID的前8个字符
- 示例: `a1b2c3d4`
- 作用: 快速定位特定任务

### 描述部分
- 来源: 从prompt中提取前20个字符
- 处理: 
  - 移除特殊字符
  - 空格替换为下划线
  - 只保留字母、数字、下划线、连字符
- 示例: 
  - "一个可爱的机器人！" → `一个可爱的机器人`
  - "robot with metal texture" → `robot_with_metal_tex`

## 📂 完整目录结构示例

```
/tmp/hunyuan-3d/
├── 20241108_143025_a1b2c3d4_一个可爱的机器人/
│   ├── a1b2c3d4_obj.zip          # 原始压缩包
│   ├── model.obj                 # 3D模型文件
│   ├── material.mtl              # 材质文件
│   └── texture.png               # 纹理贴图
│
├── 20241108_144512_b2c3d4e5_金属质感的汽车/
│   ├── b2c3d4e5_glb.zip
│   └── model.glb
│
└── 20241108_150230_c3d4e5f6_download/
    └── c3d4e5f6_obj.zip
```

## 🔍 查找文件

### 按时间查找最新生成的模型
```bash
ls -lt /tmp/hunyuan-3d/ | head -5
```

### 按JobID查找
```bash
ls -d /tmp/hunyuan-3d/*_a1b2c3d4_*
```

### 按描述查找
```bash
ls -d /tmp/hunyuan-3d/*机器人*
```

## 🧹 清理临时文件

由于文件保存在 `/tmp` 目录下，系统会定期自动清理。如需手动清理：

```bash
# 清理7天前的文件
find /tmp/hunyuan-3d -type d -mtime +7 -exec rm -rf {} \;

# 清理所有文件（谨慎使用）
rm -rf /tmp/hunyuan-3d/*
```

## 💡 自定义输出目录

如果需要保存到其他位置，可以在调用时指定 `output_dir` 参数：

```
生成一个机器人模型，保存到 ~/Desktop/my-3d-models
```

## 🎯 优势

1. **自动整理**: 每个任务独立目录，避免文件混乱
2. **易于查找**: 包含时间戳、JobID和描述
3. **临时存储**: 使用 `/tmp` 避免占用永久存储空间
4. **防止冲突**: 时间戳+JobID确保目录名唯一
5. **可读性强**: 包含描述信息，一目了然

## ⚠️ 注意事项

1. `/tmp` 目录在系统重启后可能被清空
2. 重要文件请及时转移到永久存储位置
3. 某些系统对 `/tmp` 目录有大小限制
4. 文件名中的中文字符在某些系统中可能显示异常
